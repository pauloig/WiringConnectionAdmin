{% extends 'index.html' %} 
{%load static%}
{% block title %} Duplicate Order List {% endblock %} 
{% load widget_tweaks%}
{% block container %}

<div class="container">
    <form method='post' enctype="multipart/form-data">
        {% csrf_token %}


        <div class="row">
            <div class="col-lg-12">
                <div class="card card-rounded">
                    <h6 class="card-header card-header-wc">Create Employee</h6>
                    <div class="card-body">   
                        
                        <div class="row ">
                            <div class="col-sm-12">                                
                                <div class="row my-3">
                                    <div class="col-sm-2">
                                        <div class="mb3">
                                            <label for="{{ form.employeeID.id_for_label }}" class="form-label">ID</label>
                                            {% render_field form.employeeID class="form-control" %}
                                            <div class="invalid-feedback">{{ form.employeeID.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="mb3">
                                            <label for="{{ form.first_name.id_for_label }}" class="form-label">First Name</label>
                                            {% render_field form.first_name class="form-control" %}
                                            <div class="invalid-feedback">{{ form.first_name.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="mb3">
                                            <label for="{{ form.last_name.id_for_label }}" class="form-label">Last Name</label>
                                            {% render_field form.last_name class="form-control" %}
                                            <div class="invalid-feedback">{{ form.last_name.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="mb3">
                                            <label for="{{ form.middle_initial.id_for_label }}" class="form-label">Middle Initial</label>
                                            {% render_field form.middle_initial  name="middle_initial" id="middle_initial" class="form-control" %}                                            
                                            <div class="invalid-feedback">{{ form.middle_initial.errors|first }}</div>
                                        </div>    
                                    </div>
                                    
                                </div> 
                                <div class="row my-3">
                                    
                                    <div class="col-sm-6">
                                        <div class="mb3">
                                            <label for="{{ form.supervisor_name.id_for_label }}" class="form-label">Supervisor</label>
                                            {% render_field form.supervisor_name class="form-control" %}
                                            <div class="invalid-feedback">{{ form.supervisor_name.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="mb3">
                                            <label for="{{ form.termination_date.id_for_label }}" class="form-label">Termination Date</label>
                                            {% render_field form.termination_date class="form-control" %}
                                            <div class="invalid-feedback">{{ form.termination_date.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="mb3">
                                            <label for="{{ form.hire_created.id_for_label }}" class="form-label">Hire Created</label>
                                            {% render_field form.hire_created class="form-control" %}
                                            <div class="invalid-feedback">{{ form.hire_created.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="mb3">
                                            <label for="{{ form.hourly_rate.id_for_label }}" class="form-label">Hourly Rate</label>
                                            {% render_field form.hourly_rate class="form-control" %}
                                            <div class="invalid-feedback">{{ form.hourly_rate.errors|first }}</div>
                                        </div>    
                                    </div>
                                    
                                </div>    
                                <div class="row">                                    
                                    <div class="col-sm-6">
                                        <div class="mb3">
                                            <label for="{{ form.email.id_for_label }}" class="form-label">email</label>
                                            {% render_field form.email class="form-control" %}
                                            <div class="invalid-feedback">{{ form.email.errors|first }}</div>
                                        </div>    
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="mb3">
                                            <label for="{{ form.Location.id_for_label }}" class="form-label">Location</label>
                                            {% render_field form.Location class="form-control" %}
                                            <div class="invalid-feedback">{{ form.Location.errors|first }}</div>
                                        </div>    
                                    </div>                                    
                                </div>      
                                
                                    
                                    
                                <div class="row pt-5">
                                    <div class="col-sm-2">
                                        <div class="mb3">
                                            <label for="{{ form.user.id_for_label }}" class="form-label">User</label>
                                            {% render_field form.user class="form-control" %}
                                            <div class="invalid-feedback">{{ form.user.errors|first }}</div>
                                        </div>    
                                    </div>  
                                    <div class="col-sm-6">
                                        <div class="mb3">
                                            <label for="{{ form.signature.id_for_label }}" class="form-label">Signature</label>
                                            {% render_field form.signature class="form-control" onchange="previewSignature(event)" %}
                                        </div>                                                                             
                                    </div>
                                    <div class="col-sm-4 text-center content-center">                                      
                                        <picture>
                                            {% if form.instance.signature %}
                                                <img id="signature-preview" src="{{form.instance.signature.url}}" alt="Employee signature1" width="200" height="105" class="pb-2"> 
                                            {%else%}
                                                <img id="signature-preview" src="{% static 'images/no_signature.png'%}" alt="Employee Signature" width="200" height="105" class="pb-2"> 
                                            {%endif%}
                                        </picture>                                      
                                    </div>
                                </div>
                                      
                                
                                <div class="row my-3"> 
                                    
                                    <div class="col-sm-1 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.is_active.id_for_label }}" class="form-label">Is Active</label>
                                            {% render_field form.is_active  %}
                                            <div class="invalid-feedback">{{ form.is_active.errors|first }}</div>
                                        </div>    
                                    </div>  
                                    <div class="col-sm-2 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.is_supervisor.id_for_label }}" class="form-label">Is Supervisor</label>
                                            {% render_field form.is_supervisor  %}
                                            <div class="invalid-feedback">{{ form.is_supervisor.errors|first }}</div>
                                        </div>    
                                    </div>  
                                    <div class="col-sm-1 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.is_admin.id_for_label }}" class="form-label">Is Admin</label>
                                            {% render_field form.is_admin  %}
                                            <div class="invalid-feedback">{{ form.is_admin.errors|first }}</div>
                                        </div>    
                                    </div>  
                                    
                                    <div class="col-sm-2 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.is_superAdmin.id_for_label }}" class="form-label">Is SuperAdmin</label>
                                            {% render_field form.is_superAdmin  %}
                                            <div class="invalid-feedback">{{ form.is_superAdmin.errors|first }}</div>
                                        </div>    
                                    </div> 
                                    <div class="col-sm-2 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.is_manager.id_for_label }}" class="form-label">Is Manager</label>
                                            {% render_field form.is_manager  %}
                                            <div class="invalid-feedback">{{ form.is_manager.errors|first }}</div>
                                        </div>    
                                    </div> 
                                    <div class="col-sm-1 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.is_mobile.id_for_label }}" class="form-label">Is Mobile</label>
                                            {% render_field form.is_mobile  %}
                                            <div class="invalid-feedback">{{ form.is_mobile.errors|first }}</div>
                                        </div>    
                                    </div> 
                                    <div class="col-sm-2 pt-5">
                                        <div class="mb3">
                                            <label for="{{ form.accounts_payable.id_for_label }}" class="form-label">Accounts Payable</label>
                                            {% render_field form.accounts_payable  %}
                                            <div class="invalid-feedback">{{ form.accounts_payable.errors|first }}</div>
                                        </div>    
                                    </div> 
                                </div>    
                                     
                                                                 

                            </div>
                            
                        </div>

                                      
              
                        <div class="row mt-4">
                            <div class="col-lg-6">  
                                <div class="form-outline" style="align-items: center;">                                       
                                    <!-- <input type="submit" value="Save"> -->
                                    <input class="btn btn-primary" type="submit" value="Save">
                                    <a class="btn btn-danger" href="/employee_list/" role="button">Close</a>
                                </div>
                            </div>
                        </div>  
                            
                            
                    </div>
                </div>                 
            </div>
        </div>      
    </form>
</div>

<script>
    function previewSignature(event) {
        const input = event.target;
        const preview = document.getElementById('signature-preview');
        
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
                preview.src = e.target.result;
            };
            
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

<style>
    #signature-preview {
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 5px;
        max-width: 100%;
        height: auto;
    }
</style>
{% endblock %}